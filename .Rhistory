irf <- IRFrf(gvar[-1,-1], pmax = 5, s = 12, shockvar = 13, d = sd(regdata$usa_epu))
View(irf_diff)
plot(irf_diff$china_y)
plot(irf_diff$china_epu)
View(fit)
View(irf)
IRFrf
IRFrf_gen(data = sim_dt[1:50,], pmax = 5, s = 5, shockvar = 1, ncores = 7)
irf <- IRFrf(gvar[-1,-1], pmax = 5, s = 5, shockvar = 13, d = sd(regdata$usa_epu))
devtools::document()
load("E:/17_HuaDong/reserch/FiscalCompany/RCode/data-raw/gvar.rdata")
load_all()
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
devtools::load_all()
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
load('data-raw/gvar.rdata') # from gvardata.r
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 5)
regdata <- gvar[-1,-1]
imp_var <- 'usa_epu'
which(names(regdata) %in% imp_var)
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
View(itevar)
irf <- IRFrf(regdata, pmax = 1, s = 12, shockvar = 13, d = 1)
View(irf)
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 5)
regdata <- gvar[-1,-1]
imp_var <- 'usa_epu'
which(names(regdata) %in% imp_var)
devtools::load_all()
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
View(regdata)
library(devtools)
load_all()
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
pmax = 2
VARrf(gvar[-1,-1],pmax = 1)
for (i in 1:74) {
print(i)
irf <- IRFrf(regdata, pmax = 1, s = 12, shockvar = 13, d = 1, histime = i)
}
?foreach
a <- matrix(1:16, 4, 4)
b <- t(a)
b
iter(b, by='col')
library(iterators)
iter(b, by='col')
load_all()
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
data = regdata
cl <- parallel::makeCluster(ncores)
doParallel::registerDoParallel(cl)
# parallel compute
picdata <- foreach::foreach(i = 1:nhist,
.packages = c('VARrf','tidyverse')) %dopar% {
# devtools::load_all()
IRFrf(data = regdata, pmax = 1, s = 12, shockvar = 13, d = 1, histime = i)
}
parallel::stopCluster(cl)
cl <- parallel::makeCluster(7)
doParallel::registerDoParallel(cl)
# parallel compute
picdata <- foreach::foreach(i = 1:nhist,
.packages = c('VARrf','tidyverse')) %dopar% {
# devtools::load_all()
IRFrf(data = regdata, pmax = 1, s = 12, shockvar = 13, d = 1, histime = i)
}
parallel::stopCluster(cl)
cl <- parallel::makeCluster(7)
doParallel::registerDoParallel(cl)
# parallel compute
picdata <- foreach::foreach(i = 1:73,
.packages = c('VARrf','tidyverse')) %dopar% {
# devtools::load_all()
IRFrf(data = regdata, pmax = 1, s = 12, shockvar = 13, d = 1, histime = i)
}
parallel::stopCluster(cl)
document()
remove.packages('VARrf')
install_github('common2016/VARrf')
install_github('common2016/VARrf')
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 1)
regdata <- gvar[-1,-1]
irf <- IRFrf_gen(regdata, pmax = 1, shockvar = 13, ncores = 7)
View(irf)
save(irf, file = 'irf_usa.rdata')
save(irf, file = 'data-raw/irf_usa.rdata')
ans <- lapply(irf, melt, id.vars = 's')
dplyr::melt
ans <- lapply(irf, reshape2::melt, id.vars = 's')
View(ans)
?reshape2::melt
ans <- lapply(irf, reshape2::melt, id.vars = 's',factorsAsStrings = FALSE)
View(ans)
View(ans)
View(ans)
ans <- lapply(irf, reshape2::melt.data.frame, id.vars = 's',factorsAsStrings = FALSE)
ans <- lapply(irf, reshape2::melt, id.vars = 's',factorsAsStrings = T)
View(ans)
ans <- bind_rows(ans)
View(ans)
group_by(ans, s, variable) %>% summarise(v50 = median(value),
v025 = quantile(value, 0.025),
v975 = quantile(value, 0.975))
picdata <- group_by(ans, s, variable) %>% summarise(v50 = median(value),
v025 = quantile(value, 0.025),
v975 = quantile(value, 0.975))
View(picdata)
ggplot(picdata, aes(x = s , y = v50)) + facet_wrap(~ variable, ncol = 3)
ggplot(picdata, aes(x = s , y = v50)) + geom_line() + facet_wrap(~ variable, ncol = 3)
ggplot(picdata[1:100,], aes(x = s , y = v50)) + geom_line() + facet_wrap(~ variable, ncol = 3)
ggplot(picdata[str_detect(picdata$variable,'_epu'),], aes(x = s , y = v50)) + geom_line() + facet_wrap(~ variable, ncol = 3)
ggplot(picdata[str_detect(picdata$variable,'_y'),], aes(x = s , y = v50)) +
geom_line() + facet_wrap(~ variable, ncol = 3)
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
# print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 1)
regdata <- gvar[-1,-1]
imp_var <- 'japan_epu'
num <- which(names(regdata) %in% imp_var)
if (T){
irf <- IRFrf_gen(regdata, p = 1, shockvar = num, ncores = 7)
save(irf, file = 'data-raw/irf_japan.rdata')
}else load('data-raw/irf_usa.rdata')
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
# print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 1)
regdata <- gvar[-1,-1]
imp_var <- 'japan_epu'
num <- which(names(regdata) %in% imp_var)
if (FALSE){
irf <- IRFrf_gen(regdata, p = 1, shockvar = num, ncores = 7)
save(irf, file = 'data-raw/irf_japan.rdata')
}else load('data-raw/irf_usa.rdata')
if (FALSE){
irf <- IRFrf_gen(regdata, p = 1, shockvar = num, ncores = 7)
save(irf, file = 'data-raw/irf_japan.rdata')
}else load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode/irf_usa.rdata')
if (FALSE){
irf <- IRFrf_gen(regdata, p = 1, shockvar = num, ncores = 7)
save(irf, file = 'data-raw/irf_japan.rdata')
}else load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode/data-raw/irf_usa.rdata')
View(irf)
draw_irf(irf, c('bra_epu','can_epu'))
library(devtools)
load_all()
draw_irf(irf, c('bra_epu','can_epu'))
load_all()
draw_irf(irf, c('bra_epu','can_epu'))
## code to prepare `regdata` dataset goes here
rm(list = ls())
library(pacman)
p_load(tsDyn,vars,randomForestSRC,bvartools,MyFun,tidyverse,devtools,
parallel,doParallel,ggplot2)
load_all()
seed <- 1024
# 参数矩阵，第一列截距，第二列趋势项
B1 <- matrix(c(0.2, 0.1, 0.2, 0.3,0.3,0.4,0.2,0.1), 2)
sim_dt <- VAR.sim(B1, n = 200, lag = 2,include = 'none',show.parMat = T) %>%
as.data.frame()
colnames(sim_dt) <- c('y1','y2')
# ts.plot(sim_dt)
fit <- vars::VAR(sim_dt, p = 2,type = 'none')
# summary(fit)
fit <- VARrf(sim_dt)
fit <- VARrf(sim_dt, p = 4)
# 绘图LP
picdata <- IRFrf(data = sim_dt, pmax = 5, s = 12, shockvar = 1)
ggplot(data = picdata, aes(x = s, y = debt)) + geom_line() +
geom_hline(yintercept = 0) + theme_bw()
ggplot(data = picdata, aes(x = s, y = y1)) + geom_line() +
geom_hline(yintercept = 0) + theme_bw()
IRFrf_gen(data = sim_dt[1:10,], pmax = 3, s = 5, shockvar = 1, ncores = 7)
IRFrf_gen(data = sim_dt[1:20,], pmax = 3, s = 5, shockvar = 1, ncores = 7)
library(devtools)
document()
## code to prepare `regdata` dataset goes here
rm(list = ls())
library(pacman)
p_load(tsDyn,vars,randomForestSRC,bvartools,MyFun,tidyverse,devtools,
parallel,doParallel,ggplot2)
load_all()
seed <- 1024
# 参数矩阵，第一列截距，第二列趋势项
B1 <- matrix(c(0.2, 0.1, 0.2, 0.3,0.3,0.4,0.2,0.1), 2)
sim_dt <- VAR.sim(B1, n = 200, lag = 2,include = 'none',show.parMat = T) %>%
as.data.frame()
colnames(sim_dt) <- c('y1','y2')
rm(list = ls())
library(pacman)
p_load(CADFtest, TBHB, VARrf, tidyverse, randomForestSRC)
# load('data-raw/gvar.rdata') # from gvardata.r
load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode\\data-raw\\gvar.rdata')
# delete some missing data
gvar <- dplyr::select(gvar, -china_lr, -chl_lr)
# 将利率等转换为环比
ToHB <- function(gvar, varnm = 'swe_Dp'){
prodata <- gvar[,c('yr',varnm)]
prodata$year <- str_sub(prodata$yr,1,4) %>% as.numeric()
prodata$mon <- str_sub(prodata$yr,6) %>% as.numeric()
ans <- ConvertRatio(prodata, year = 'year', mon = 'mon', value.name = varnm, to = 'HB')
names(ans) <- str_replace(names(ans),'HB','')
ans <- ans[,3]
return(ans)
}
# Dp, r, lr如果不平稳，换为环比，其他不平稳直接差分
for (i in 2:ncol(gvar)) {
ans <- CADFtest(gvar[,i], type = 'trend', max.lag.y = 5)
if (ans$p.value > 0.1){
ans2 <- names(gvar)[i]
# print(ans2)
ifelse (str_detect(ans2, '_Dp|_r|_lr'),
gvar[,i] <- ToHB(gvar, ans2),
gvar[,i] <- c(NA, diff(gvar[,i])))
}
}
# VARrf估计
# fit <- VARrf(gvar[-1,-1],pmax = 1)
regdata <- gvar[-1,-1]
imp_var <- 'japan_epu'
num <- which(names(regdata) %in% imp_var)
if (FALSE){
irf <- IRFrf_gen(regdata, p = 1, shockvar = num, ncores = 7)
save(irf, file = 'data-raw/irf_japan.rdata')
}else load('E:\\17_HuaDong\\reserch\\FiscalCompany\\RCode/data-raw/irf_usa.rdata')
ans <- lapply(irf, reshape2::melt, id.vars = 's')
ans <- bind_rows(ans)
picdata <- group_by(ans, s, variable) %>% summarise(v50 = median(value),
v025 = quantile(value, 0.025),
v975 = quantile(value, 0.975))
View(picdata)
res_var = c('bra_epu','can_epu')
i=1
picdata[picdata$variable %in% res_var[i],]
length(res_var)
p <- list()
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) +
geom_line() + theme_bw()
}
p[[1]]
use_package('patchwork')
p[[1]] + p[[2]]
p[[1]] + p[[2]] + patchwork::plot_layout(guides = 'collect')
p <- list()
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
}
p <- list()
pcode <- NULL
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
}
pcode
p <- list()
pcode <- 'p[[1]]'
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
if (i != 1) pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
}
pcode
p <- list()
pcode <- 'p[[1]]'
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
if (i != 1) pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
if (i == length(res_var)) pcode <- paste(pcode, '+plot_layout(ncol = 2)')
}
pcode
eval(parse(text = pcode))
p <- list()
pcode <- 'p[[1]]'
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
if (i != 1) pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
if (i == length(res_var)) pcode <- paste(pcode, '+ patchwork::plot_layout(ncol = 2)', sep = '')
}
eval(parse(text = pcode))
p <- list()
pcode <- 'p[[1]]'
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
if (i != 1) pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
if (i == length(res_var)) pcode <- paste('ans <- ',pcode, '+ patchwork::plot_layout(ncol =',
as.character(ncol_pic),')', sep = '')
}
eval(parse(text = pcode))
ncol_pic = 2
p <- list()
pcode <- 'p[[1]]'
for (i in 1:length(res_var)) {
p[[res_var[i]]] <- ggplot(picdata[picdata$variable %in% res_var[i],], aes(x = s , y = v50)) +
geom_line(aes(y = v025), linetype = 2) +
geom_line(aes(y = v975), linetype = 2) +
geom_hline(yintercept = 0) + labs(title = res_var[i]) +
geom_line() + theme_bw()
if (i != 1) pcode <- paste(pcode, '+p[[',as.character(i),']]',sep = '')
if (i == length(res_var)) pcode <- paste('ans <- ',pcode, '+ patchwork::plot_layout(ncol =',
as.character(ncol_pic),')', sep = '')
}
eval(parse(text = pcode))
ans
draw_irf(irf,res_var = c('usa_epu','can_epu'))
load_all()
draw_irf(irf,res_var = c('usa_epu','can_epu'))
source('E:/17_HuaDong/reserch/FiscalCompany/RCode/data-raw/main.R', encoding = 'UTF-8', echo=TRUE)
devtools::document()
devtools::document()
devtools::document()
load_all()
draw_irf(irf,res_var = c('usa_epu','can_epu'))
devtools::check()
library(devtools)
use_package('foreach')
use_package('ggplot2')
use_package('magrittr')
